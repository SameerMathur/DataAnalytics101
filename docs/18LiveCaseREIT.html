<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Data Analytics 101 -- Exploratory Data Analysis using R. – livecasereit</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Data Analytics 101 – Exploratory Data Analysis using R.</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://www.qatar.cmu.edu/directory/sameer-mathur/" rel="" target="_blank"><i class="bi bi-globe" role="img">
</i> 
 <span class="menu-text">Sameer Mathur</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/SameerMathur/DataAnalytics101" rel="" target="_blank"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text">Book’s Github</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./18LiveCaseREIT.html">Case (2 of 2): S&amp;P500 Sector Analysis</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
      <a href="./index.html" class="sidebar-logo-link">
      <img src="./images/openscapes_hex.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Overview</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01GettingStarted.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exploring R programming</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02RPackages.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exploring R Packages</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03DataStructures.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exploring Data Structures</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04ReadingData.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reading Data into R</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05ExploringDataframes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exploring Dataframes (Part 1 of 2)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06ExploringTibbles.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exploring Dataframes (Part 2 of 2)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07CategoricalData01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Univariate Categorical data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08CategoricalData02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bivariate Categorical data (Part 1 of 2)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09CategoricalData03.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bivariate Categorical data (Part 2 of 2)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10ContinuousData01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Univariate Continuous data (Part 1 of 2)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11ContinuousData02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Univariate Continuous data (Part 2 of 2)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./12ContinuousData03.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bivariate Continuous data (Part 1 of 4)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./13ContinuousData04.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bivariate Continuous data (Part 2 of 4)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./14ContinuousData05.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bivariate Continuous data (Part 3 of 4)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./15ContinuousData06.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bivariate Continuous data (Part 4 of 4)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./16ThreeDimensions01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Three Dimensional (3D) Data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./17LiveCase01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Case (1 of 2): An Overview of the S&amp;P500</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./18LiveCaseREIT.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Case (2 of 2): S&amp;P500 Sector Analysis</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar"><div class="quarto-margin-header"><div class="margin-header-item">
<p><img src="BookCover101.png" class="img-fluid"></p>
</div></div>
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#case-2-of-2-sp500-sector-analysis" id="toc-case-2-of-2-sp500-sector-analysis" class="nav-link active" data-scroll-target="#case-2-of-2-sp500-sector-analysis">Case (2 of 2): S&amp;P500 Sector Analysis</a>
  <ul class="collapse">
  <li><a href="#targeted-analysis-of-a-focal-sp-500-gics-sector" id="toc-targeted-analysis-of-a-focal-sp-500-gics-sector" class="nav-link" data-scroll-target="#targeted-analysis-of-a-focal-sp-500-gics-sector">Targeted Analysis of a Focal S&amp;P 500 GICS Sector</a>
  <ul class="collapse">
  <li><a href="#organize-the-data" id="toc-organize-the-data" class="nav-link" data-scroll-target="#organize-the-data">Organize the data</a></li>
  </ul></li>
  <li><a href="#analysis" id="toc-analysis" class="nav-link" data-scroll-target="#analysis">Analysis</a>
  <ul class="collapse">
  <li><a href="#the-consumer-staples-gics-sector-in-the-sp500" id="toc-the-consumer-staples-gics-sector-in-the-sp500" class="nav-link" data-scroll-target="#the-consumer-staples-gics-sector-in-the-sp500">The Consumer Staples GICS Sector in the S&amp;P500</a></li>
  <li><a href="#a-market-cap" id="toc-a-market-cap" class="nav-link" data-scroll-target="#a-market-cap">A) Market Cap</a></li>
  <li><a href="#b-price-attractiveness-price-relative-to-52-week-low" id="toc-b-price-attractiveness-price-relative-to-52-week-low" class="nav-link" data-scroll-target="#b-price-attractiveness-price-relative-to-52-week-low">B) Price Attractiveness – Price relative to 52-Week Low</a></li>
  <li><a href="#c-return-on-equity-roe" id="toc-c-return-on-equity-roe" class="nav-link" data-scroll-target="#c-return-on-equity-roe">C) Return on Equity (ROE)</a></li>
  <li><a href="#d-return-on-assets-roa" id="toc-d-return-on-assets-roa" class="nav-link" data-scroll-target="#d-return-on-assets-roa">D) Return on Assets (ROA)</a></li>
  <li><a href="#e-roe-versus-roa-and-colored-by-price-rel.-to-52-week-low" id="toc-e-roe-versus-roa-and-colored-by-price-rel.-to-52-week-low" class="nav-link" data-scroll-target="#e-roe-versus-roa-and-colored-by-price-rel.-to-52-week-low">E) ROE versus ROA and colored by Price rel. to 52-Week Low</a></li>
  <li><a href="#f-investment-insights" id="toc-f-investment-insights" class="nav-link" data-scroll-target="#f-investment-insights">F) Investment Insights</a></li>
  </ul></li>
  <li><a href="#summary-of-chapter-18-case-2-of-2-sp500-sector-analysis" id="toc-summary-of-chapter-18-case-2-of-2-sp500-sector-analysis" class="nav-link" data-scroll-target="#summary-of-chapter-18-case-2-of-2-sp500-sector-analysis">Summary of Chapter 18 – Case (2 of 2): S&amp;P500 Sector Analysis</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="18LiveCaseREIT.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">



<section id="case-2-of-2-sp500-sector-analysis" class="level1">
<h1>Case (2 of 2): S&amp;P500 Sector Analysis</h1>
<p><strong>Chapter 18.</strong></p>
<section id="targeted-analysis-of-a-focal-sp-500-gics-sector" class="level2">
<h2 class="anchored" data-anchor-id="targeted-analysis-of-a-focal-sp-500-gics-sector">Targeted Analysis of a Focal S&amp;P 500 GICS Sector</h2>
<p>We are set to conduct a comprehensive analysis focused on a specific GICS sector within the S&amp;P 500. This will involve a close examination of the individual companies comprising the sector we select, allowing us to gain deeper insights into their collective and individual performance dynamics.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>focalSector <span class="ot">=</span> <span class="st">"Consumer Staples"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="organize-the-data" class="level3">
<h3 class="anchored" data-anchor-id="organize-the-data">Organize the data</h3>
<p>For our upcoming analysis, it’s essential to structure and arrange the data effectively, mirroring the methodical approach we successfully implemented in our previous case study</p>
<ol type="1">
<li>Load Packages:</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the required libraries, suppressing annoying startup messages</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr, <span class="at">quietly =</span> <span class="cn">TRUE</span>, <span class="at">warn.conflicts =</span> <span class="cn">FALSE</span>) <span class="co"># For data manipulation</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tibble, <span class="at">quietly =</span> <span class="cn">TRUE</span>, <span class="at">warn.conflicts =</span> <span class="cn">FALSE</span>) <span class="co"># For data manipulation</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2, <span class="at">quietly =</span> <span class="cn">TRUE</span>, <span class="at">warn.conflicts =</span> <span class="cn">FALSE</span>) <span class="co"># For data visualization</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpubr, <span class="at">quietly =</span> <span class="cn">TRUE</span>, <span class="at">warn.conflicts =</span> <span class="cn">FALSE</span>) <span class="co"># For data visualization</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gsheet, <span class="at">quietly =</span> <span class="cn">TRUE</span>, <span class="at">warn.conflicts =</span> <span class="cn">FALSE</span>) <span class="co"># For Google Sheets</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rmarkdown, <span class="at">quietly =</span> <span class="cn">TRUE</span>, <span class="at">warn.conflicts =</span> <span class="cn">FALSE</span>) <span class="co"># For writing</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr, <span class="at">quietly =</span> <span class="cn">TRUE</span>, <span class="at">warn.conflicts =</span> <span class="cn">FALSE</span>) <span class="co"># For tables</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra, <span class="at">quietly =</span> <span class="cn">TRUE</span>, <span class="at">warn.conflicts =</span> <span class="cn">FALSE</span>) <span class="co"># For tables</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)  <span class="co"># For formatting currency</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="2" type="1">
<li>Read the data from a Google Sheet into a tibble:</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read S&amp;P500 stock data present in a Google Sheet.</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gsheet)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>prefix <span class="ot">&lt;-</span> <span class="st">"https://docs.google.com/spreadsheets/d/"</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>sheetID <span class="ot">&lt;-</span> <span class="st">"14mUlNNpeuV2RouT9MKaAWKUpvjRijzQu40DdWJgyKPQ"</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>url500 <span class="ot">&lt;-</span> <span class="fu">paste</span>(prefix,sheetID) <span class="co"># Form the URL to connect to</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>sp500Data <span class="ot">&lt;-</span> <span class="fu">gsheet2tbl</span>(url500) <span class="co"># Read it into a tibble called sp500Data</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="3" type="1">
<li>Read GICS classificaiton of S&amp;P 500 stocks:</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read GICS classificaiton of S&amp;P 500 stocks from a Google Sheet.</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gsheet)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>prefix2 <span class="ot">&lt;-</span> <span class="st">"https://docs.google.com/spreadsheets/d/"</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>sheetID2 <span class="ot">&lt;-</span> <span class="st">"1WrVA8dPYvQsc_mXVctgTntRLS02qd7ubzcdAsw03Lgk"</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>urlgics <span class="ot">&lt;-</span> <span class="fu">paste</span>(prefix2, sheetID2) <span class="co"># Form the URL to connect to</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>gics <span class="ot">&lt;-</span> <span class="fu">gsheet2tbl</span>(urlgics) <span class="co"># Read it into a tibble called gics</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="4" type="1">
<li>Join the data:</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Merging dataframes</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>sp500 <span class="ot">&lt;-</span> <span class="fu">merge</span>(sp500Data, </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>               gics , </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">id =</span> <span class="st">"Stock"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="5" type="1">
<li>Rename the data columns:</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a mapping of new column names</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>new_names <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Stock"</span>, <span class="st">"Date"</span>, <span class="st">"StockName"</span>, <span class="st">"Sector"</span>, <span class="st">"Industry"</span>, </span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"MarketCap"</span>, <span class="st">"Price"</span>, <span class="st">"Low52Wk"</span>, <span class="st">"High52Wk"</span>, </span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"ROE"</span>, <span class="st">"ROA"</span>, <span class="st">"ROIC"</span>, <span class="st">"GrossMargin"</span>, </span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"OperatingMargin"</span>, <span class="st">"NetMargin"</span>, <span class="st">"PE"</span>, </span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"PB"</span>, <span class="st">"EVEBITDA"</span>, <span class="st">"EBITDA"</span>, <span class="st">"EPS"</span>, </span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"EBITDA_YOY"</span>, <span class="st">"EBITDA_QYOY"</span>, <span class="st">"EPS_YOY"</span>, </span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"EPS_QYOY"</span>, <span class="st">"PFCF"</span>, <span class="st">"FCF"</span>, </span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"FCF_QYOY"</span>, <span class="st">"DebtToEquity"</span>, <span class="st">"CurrentRatio"</span>, </span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"QuickRatio"</span>, <span class="st">"DividendYield"</span>, </span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">"DividendsPerShare_YOY"</span>, <span class="st">"PS"</span>, </span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Revenue_YOY"</span>, <span class="st">"Revenue_QYOY"</span>, <span class="st">"Rating"</span>,</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Security"</span>, <span class="st">"GICSSector"</span>, <span class="st">"GICSSubIndustry"</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename the columns using the new_names vector</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(sp500) <span class="ot">&lt;-</span> new_names</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="6" type="1">
<li>Create new columns to track prices relative to 52-week low and high.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>sp500 <span class="ot">&lt;-</span> sp500 <span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Low52WkPerc =</span> <span class="fu">round</span>((Price <span class="sc">-</span> Low52Wk) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> Low52Wk, <span class="dv">2</span>),</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">High52WkPerc =</span> <span class="fu">round</span>((High52Wk <span class="sc">-</span> Price) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> High52Wk, <span class="dv">2</span>),</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">MarketCapBillions =</span> <span class="fu">round</span>(MarketCap <span class="sc">/</span> <span class="fl">1e9</span>, <span class="dv">3</span>) </span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>         <span class="co"># Convert MarketCap to billions</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>         )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="7" type="1">
<li>Review the column names:</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(sp500)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Stock"                 "Date"                  "StockName"            
 [4] "Sector"                "Industry"              "MarketCap"            
 [7] "Price"                 "Low52Wk"               "High52Wk"             
[10] "ROE"                   "ROA"                   "ROIC"                 
[13] "GrossMargin"           "OperatingMargin"       "NetMargin"            
[16] "PE"                    "PB"                    "EVEBITDA"             
[19] "EBITDA"                "EPS"                   "EBITDA_YOY"           
[22] "EBITDA_QYOY"           "EPS_YOY"               "EPS_QYOY"             
[25] "PFCF"                  "FCF"                   "FCF_QYOY"             
[28] "DebtToEquity"          "CurrentRatio"          "QuickRatio"           
[31] "DividendYield"         "DividendsPerShare_YOY" "PS"                   
[34] "Revenue_YOY"           "Revenue_QYOY"          "Rating"               
[37] "Security"              "GICSSector"            "GICSSubIndustry"      
[40] "Low52WkPerc"           "High52WkPerc"          "MarketCapBillions"    </code></pre>
</div>
</div>
<ol start="8" type="1">
<li>Format the Prices.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)  <span class="co"># For formatting currency</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>sp500 <span class="ot">&lt;-</span> sp500 <span class="sc">%&gt;%</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">Price =</span> scales<span class="sc">::</span><span class="fu">dollar</span>(<span class="fu">round</span>(Price, <span class="dv">2</span>)),  <span class="co"># format the Price as $</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">High52Wk =</span> scales<span class="sc">::</span><span class="fu">dollar</span>(<span class="fu">round</span>(High52Wk, <span class="dv">2</span>)),  <span class="co"># format the 52 Week High </span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">Low52Wk =</span> scales<span class="sc">::</span><span class="fu">dollar</span>(<span class="fu">round</span>(Low52Wk, <span class="dv">2</span>))  <span class="co"># format the 52 Week Low </span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="9" type="1">
<li>Model the Rating as a <code>factor()</code> variable.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>sp500<span class="sc">$</span>Rating <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(sp500<span class="sc">$</span>Rating)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(sp500<span class="sc">$</span>Rating)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
        Buy     Neutral        Sell  Strong Buy Strong Sell 
        192          51         178          58          24 </code></pre>
</div>
</div>
<ol start="10" type="1">
<li>Model <code>GICSSector</code> as a <code>factor</code>.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>sp500<span class="sc">$</span>GICSSector <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(sp500<span class="sc">$</span>GICSSector)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(sp500<span class="sc">$</span>GICSSector)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Communication Services Consumer Discretionary       Consumer Staples 
                    22                     53                     38 
                Energy             Financials            Health Care 
                    23                     72                     64 
           Industrials Information Technology              Materials 
                    78                     64                     28 
           Real Estate              Utilities 
                    31                     30 </code></pre>
</div>
</div>
</section>
</section>
<section id="analysis" class="level2">
<h2 class="anchored" data-anchor-id="analysis">Analysis</h2>
<p>Suppose our mission is to allocate <code>$1 Million</code> to the “best” stock within our focal sector. Which stock should we select?</p>
<section id="the-consumer-staples-gics-sector-in-the-sp500" class="level3">
<h3 class="anchored" data-anchor-id="the-consumer-staples-gics-sector-in-the-sp500">The Consumer Staples GICS Sector in the S&amp;P500</h3>
<p>We focus on investment opportunities within the Consumer Staples GICS Sector in the S&amp;P500. We want to determine the <em>fundamentally strongest</em> AND <em>most reasonably priced</em> shares for medium term investing.</p>
<p>For this purpose, we create a tibble named focalStocks, filtering the shares that belong to the Consumer Staples Sector in the S&amp;P500.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>focalStocks <span class="ot">=</span> sp500 <span class="sc">%&gt;%</span> </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(GICSSector <span class="sc">==</span> focalSector) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="a-market-cap" class="level3">
<h3 class="anchored" data-anchor-id="a-market-cap">A) Market Cap</h3>
<p>We list the stocks. Specifically, the following code processes data from the focalStocks tibble, specifically for stocks in the focal GICS sector. It sorts these stocks by their market capitalization in descending order and selects columns for stock ticker, company name, market cap (in billions), and stock price.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Select stocks with their Market Cap in billions</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>focalStocks <span class="sc">%&gt;%</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(MarketCapBillions)) <span class="sc">%&gt;%</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Stock, StockName, MarketCapBillions, Price) <span class="sc">%&gt;%</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="st">"html"</span>, </span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">caption =</span> <span class="st">"GISC Sector Stocks, with Market Cap in Billions"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small" data-quarto-postprocess="true">
<caption>GISC Sector Stocks, with Market Cap in Billions</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Stock</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">StockName</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">MarketCapBillions</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Price</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">WMT</td>
<td style="text-align: left;">Walmart Inc.</td>
<td style="text-align: right;">421.765</td>
<td style="text-align: left;">$156.74</td>
</tr>
<tr class="even">
<td style="text-align: left;">PG</td>
<td style="text-align: left;">Procter &amp; Gamble Company (The)</td>
<td style="text-align: right;">349.243</td>
<td style="text-align: left;">$148.14</td>
</tr>
<tr class="odd">
<td style="text-align: left;">COST</td>
<td style="text-align: left;">Costco Wholesale Corporation</td>
<td style="text-align: right;">291.372</td>
<td style="text-align: left;">$656.65</td>
</tr>
<tr class="even">
<td style="text-align: left;">KO</td>
<td style="text-align: left;">Coca-Cola Company (The)</td>
<td style="text-align: right;">258.021</td>
<td style="text-align: left;">$59.66</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PEP</td>
<td style="text-align: left;">PepsiCo, Inc.</td>
<td style="text-align: right;">234.827</td>
<td style="text-align: left;">$170.78</td>
</tr>
<tr class="even">
<td style="text-align: left;">PM</td>
<td style="text-align: left;">Philip Morris International Inc</td>
<td style="text-align: right;">148.193</td>
<td style="text-align: left;">$95.45</td>
</tr>
<tr class="odd">
<td style="text-align: left;">MDLZ</td>
<td style="text-align: left;">Mondelez International, Inc.</td>
<td style="text-align: right;">99.291</td>
<td style="text-align: left;">$72.95</td>
</tr>
<tr class="even">
<td style="text-align: left;">MO</td>
<td style="text-align: left;">Altria Group, Inc.</td>
<td style="text-align: right;">73.346</td>
<td style="text-align: left;">$41.46</td>
</tr>
<tr class="odd">
<td style="text-align: left;">CL</td>
<td style="text-align: left;">Colgate-Palmolive Company</td>
<td style="text-align: right;">65.969</td>
<td style="text-align: left;">$80.12</td>
</tr>
<tr class="even">
<td style="text-align: left;">TGT</td>
<td style="text-align: left;">Target Corporation</td>
<td style="text-align: right;">64.845</td>
<td style="text-align: left;">$140.34</td>
</tr>
<tr class="odd">
<td style="text-align: left;">MNST</td>
<td style="text-align: left;">Monster Beverage Corporation</td>
<td style="text-align: right;">60.044</td>
<td style="text-align: left;">$57.72</td>
</tr>
<tr class="even">
<td style="text-align: left;">EL</td>
<td style="text-align: left;">Estee Lauder Companies, Inc. (The)</td>
<td style="text-align: right;">49.247</td>
<td style="text-align: left;">$137.62</td>
</tr>
<tr class="odd">
<td style="text-align: left;">KHC</td>
<td style="text-align: left;">The Kraft Heinz Company</td>
<td style="text-align: right;">46.339</td>
<td style="text-align: left;">$37.78</td>
</tr>
<tr class="even">
<td style="text-align: left;">STZ</td>
<td style="text-align: left;">Constellation Brands, Inc.</td>
<td style="text-align: right;">45.487</td>
<td style="text-align: left;">$248.30</td>
</tr>
<tr class="odd">
<td style="text-align: left;">KDP</td>
<td style="text-align: left;">Keurig Dr Pepper Inc.</td>
<td style="text-align: right;">44.817</td>
<td style="text-align: left;">$32.06</td>
</tr>
<tr class="even">
<td style="text-align: left;">KMB</td>
<td style="text-align: left;">Kimberly-Clark Corporation</td>
<td style="text-align: right;">41.320</td>
<td style="text-align: left;">$122.32</td>
</tr>
<tr class="odd">
<td style="text-align: left;">KVUE</td>
<td style="text-align: left;">Kenvue Inc.</td>
<td style="text-align: right;">40.224</td>
<td style="text-align: left;">$21.00</td>
</tr>
<tr class="even">
<td style="text-align: left;">HSY</td>
<td style="text-align: left;">The Hershey Company</td>
<td style="text-align: right;">38.528</td>
<td style="text-align: left;">$188.40</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SYY</td>
<td style="text-align: left;">Sysco Corporation</td>
<td style="text-align: right;">38.009</td>
<td style="text-align: left;">$75.36</td>
</tr>
<tr class="even">
<td style="text-align: left;">ADM</td>
<td style="text-align: left;">Archer-Daniels-Midland Company</td>
<td style="text-align: right;">37.950</td>
<td style="text-align: left;">$71.15</td>
</tr>
<tr class="odd">
<td style="text-align: left;">GIS</td>
<td style="text-align: left;">General Mills, Inc.</td>
<td style="text-align: right;">37.174</td>
<td style="text-align: left;">$65.43</td>
</tr>
<tr class="even">
<td style="text-align: left;">KR</td>
<td style="text-align: left;">Kroger Company (The)</td>
<td style="text-align: right;">32.888</td>
<td style="text-align: left;">$45.72</td>
</tr>
<tr class="odd">
<td style="text-align: left;">DG</td>
<td style="text-align: left;">Dollar General Corporation</td>
<td style="text-align: right;">29.601</td>
<td style="text-align: left;">$134.86</td>
</tr>
<tr class="even">
<td style="text-align: left;">DLTR</td>
<td style="text-align: left;">Dollar Tree, Inc.</td>
<td style="text-align: right;">29.513</td>
<td style="text-align: left;">$135.35</td>
</tr>
<tr class="odd">
<td style="text-align: left;">BF.B</td>
<td style="text-align: left;">Brown Forman Inc</td>
<td style="text-align: right;">26.703</td>
<td style="text-align: left;">$55.24</td>
</tr>
<tr class="even">
<td style="text-align: left;">CHD</td>
<td style="text-align: left;">Church &amp; Dwight Company, Inc.</td>
<td style="text-align: right;">23.186</td>
<td style="text-align: left;">$94.11</td>
</tr>
<tr class="odd">
<td style="text-align: left;">WBA</td>
<td style="text-align: left;">Walgreens Boots Alliance, Inc.</td>
<td style="text-align: right;">20.541</td>
<td style="text-align: left;">$23.81</td>
</tr>
<tr class="even">
<td style="text-align: left;">K</td>
<td style="text-align: left;">Kellanova</td>
<td style="text-align: right;">19.424</td>
<td style="text-align: left;">$56.71</td>
</tr>
<tr class="odd">
<td style="text-align: left;">MKC</td>
<td style="text-align: left;">McCormick &amp; Company, Incorporated</td>
<td style="text-align: right;">18.165</td>
<td style="text-align: left;">$67.64</td>
</tr>
<tr class="even">
<td style="text-align: left;">CLX</td>
<td style="text-align: left;">Clorox Company (The)</td>
<td style="text-align: right;">17.700</td>
<td style="text-align: left;">$142.52</td>
</tr>
<tr class="odd">
<td style="text-align: left;">HRL</td>
<td style="text-align: left;">Hormel Foods Corporation</td>
<td style="text-align: right;">17.543</td>
<td style="text-align: left;">$32.08</td>
</tr>
<tr class="even">
<td style="text-align: left;">TSN</td>
<td style="text-align: left;">Tyson Foods, Inc.</td>
<td style="text-align: right;">15.523</td>
<td style="text-align: left;">$54.21</td>
</tr>
<tr class="odd">
<td style="text-align: left;">LW</td>
<td style="text-align: left;">Lamb Weston Holdings, Inc.</td>
<td style="text-align: right;">15.400</td>
<td style="text-align: left;">$106.44</td>
</tr>
<tr class="even">
<td style="text-align: left;">BG</td>
<td style="text-align: left;">Bunge Limited</td>
<td style="text-align: right;">14.381</td>
<td style="text-align: left;">$98.98</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SJM</td>
<td style="text-align: left;">The J.M. Smucker Company</td>
<td style="text-align: right;">13.652</td>
<td style="text-align: left;">$128.62</td>
</tr>
<tr class="even">
<td style="text-align: left;">CAG</td>
<td style="text-align: left;">ConAgra Brands, Inc.</td>
<td style="text-align: right;">13.577</td>
<td style="text-align: left;">$28.40</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TAP</td>
<td style="text-align: left;">Molson Coors Beverage Company</td>
<td style="text-align: right;">13.277</td>
<td style="text-align: left;">$61.59</td>
</tr>
<tr class="even">
<td style="text-align: left;">CPB</td>
<td style="text-align: left;">Campbell Soup Company</td>
<td style="text-align: right;">12.894</td>
<td style="text-align: left;">$43.24</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Consider the summary statistics of the Market Capitalization of the focal stocks.</p>
<p>The following code performs a statistical summary of the market capitalization (in billions) of stocks within a specific GICS sector. It calculates various summary statistics: the count of stocks (<code>N</code>), mean, standard deviation (<code>SD</code>), median, first quartile (<code>Q1</code>), third quartile (<code>Q3</code>), minimum (<code>Min</code>), maximum (<code>Max</code>), and total sum (<code>Sum</code>) of market capitalizations. This provides a comprehensive overview of the financial size and spread of the companies in the selected sector.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>focalStocks <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">N =</span> <span class="fu">n</span>(),</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Mean =</span> <span class="fu">mean</span>(MarketCapBillions),</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">SD =</span> <span class="fu">sd</span>(MarketCapBillions),</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">Median =</span> <span class="fu">median</span>(MarketCapBillions),</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">Q1 =</span> <span class="fu">quantile</span>(MarketCapBillions, <span class="fl">0.25</span>),</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">Q3 =</span> <span class="fu">quantile</span>(MarketCapBillions, <span class="fl">0.75</span>),</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">Min =</span> <span class="fu">min</span>(MarketCapBillions),</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">Max =</span> <span class="fu">max</span>(MarketCapBillions),</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">Sum =</span> <span class="fu">sum</span>(MarketCapBillions)</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> </span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="st">"html"</span>, </span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">caption =</span> <span class="st">"Summary Statistics of Market Cap (Billion USD)"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Summary Statistics of Market Cap (Billion USD)</caption>
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">N</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Mean</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">SD</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Median</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Q1</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Q3</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Min</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Max</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Sum</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">38</td>
<td style="text-align: right;">74.21</td>
<td style="text-align: right;">100.2</td>
<td style="text-align: right;">37.98</td>
<td style="text-align: right;">18.48</td>
<td style="text-align: right;">63.64</td>
<td style="text-align: right;">12.89</td>
<td style="text-align: right;">421.76</td>
<td style="text-align: right;">2819.98</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>As can be seen, the S&amp;P500 GICS sector Consumer Staples consists of 38 stocks. We want to determine the <em>fundamentally strongest</em> and <em>most reasonably priced</em> shares for medium-term investing.</p>
</section>
<section id="b-price-attractiveness-price-relative-to-52-week-low" class="level3">
<h3 class="anchored" data-anchor-id="b-price-attractiveness-price-relative-to-52-week-low">B) Price Attractiveness – Price relative to 52-Week Low</h3>
<p>The 52-week low price is an important metric for stocks on major indices like the S&amp;P 500 for several reasons:</p>
<ol type="1">
<li><p>Historical Context: It shows the lowest price point of a stock in the past year, providing insights into its price trend.</p></li>
<li><p>Investment Opportunity: Stocks near their 52-week low may be seen as undervalued, presenting potential buying opportunities.</p></li>
<li><p>Support Level: This price can act as a psychological support level, indicating market valuation and resistance to further decline.</p></li>
<li><p>Technical Analysis Tool: For technical analysts, the 52-week low is key for identifying bearish trends or potential recoveries.</p></li>
<li><p>Dividend Yield Impact: For dividend stocks, a lower price near this level can mean higher yields, appealing to income-focused investors.</p></li>
</ol>
<ul>
<li>Caution: Our analysis aims to examine stocks’ prices in relation to their 52-week lows and highs to gauge their relative price attractiveness. It’s crucial to consider the 52-week low alongside other financial indicators, as it alone doesn’t necessarily signify a good buy or sell point.</li>
</ul>
<p>Recall that a new data column named <code>Low52WkPerc</code> was created, measuring the percentage change between the current price (<code>Price</code>) and its 52-week low (<code>Low52Wk</code>), based on the simple formula: <span class="math display">\[Low52WkPerc = \frac{(CurrentPrice - 52WeekLow)*100}{52WeekLow}\]</span></p>
<p>Similarly, <code>High52WkPerc</code> represents the percentage change between the 52-week high (<code>High52Wk</code>) and the current price (<code>Price</code>). We round off the data to two decimal places for clarity.</p>
<p><strong>Summary Statistics of Price rel. to 52-Week Low (Low52WkPerc)</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>summaryStats <span class="ot">&lt;-</span> focalStocks <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">N =</span> <span class="fu">n</span>(),</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Mean =</span> <span class="fu">mean</span>(Low52WkPerc),</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">SD =</span> <span class="fu">sd</span>(Low52WkPerc),</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">Median =</span> <span class="fu">median</span>(Low52WkPerc),</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">Q1 =</span> <span class="fu">quantile</span>(Low52WkPerc, <span class="fl">0.25</span>),</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">Q3 =</span> <span class="fu">quantile</span>(Low52WkPerc, <span class="fl">0.75</span>),</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">Min =</span> <span class="fu">min</span>(Low52WkPerc),</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">Max =</span> <span class="fu">max</span>(Low52WkPerc)</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>Low52WkPercQ1 <span class="ot">&lt;-</span> summaryStats<span class="sc">$</span>Q1 <span class="co"># Save Q1 of Low52WkPerc</span></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>summaryStats <span class="sc">%&gt;%</span> </span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="st">"html"</span>, </span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">caption =</span> <span class="st">"Summary Statistics of Price rel. to 52-Week Low (Low52WkPerc"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Summary Statistics of Price rel. to 52-Week Low (Low52WkPerc</caption>
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">N</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Mean</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">SD</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Median</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Q1</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Q3</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Min</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Max</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">38</td>
<td style="text-align: right;">17.83</td>
<td style="text-align: right;">9.66</td>
<td style="text-align: right;">18.01</td>
<td style="text-align: right;">9.46</td>
<td style="text-align: right;">22.12</td>
<td style="text-align: right;">2.65</td>
<td style="text-align: right;">41.11</td>
</tr>
</tbody>
</table>


</div>
</div>
<p><strong>Visualizing the distribution of Low52WkPerc</strong></p>
<p>The following code creates two visualizations for the <code>Low52WkPerc</code> data from the <code>focalStocks</code> dataset and combines them into one display. The first is a horizontal box plot (<code>BoxPlot</code>) with additional rug and jitter features for detailed data representation, highlighting median, Q1, and Q3 values. The second is a bar plot (<code>BarPlot</code>) showing the mean value of <code>Low52WkPerc</code> with an error bar representing its standard deviation.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="18LiveCaseREIT_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid" width="768"></p>
</div>
</div>
<p>Overall, this code effectively visualizes the distribution and central tendency (mean and standard deviation) of the <code>Low52WkPerc</code> metric from the focalStocks dataset. The combination of a box plot and a bar plot with error bars provides a comprehensive view of the data’s spread and central measure.</p>
<p><strong>Inexpensive Stocks Close to 52-Week Low (Low52WkPerc &lt; Q1(Low52WkPerc))</strong></p>
<p>The following R code snippet identifies and displays a subset of stocks from the focalStocks dataset that are considered ‘inexpensive’ based on their performance relative to their 52-week low. It emphasizes those stocks whose <code>Low52WeekPerc</code> is less than the 25th percentile (Q1) of the distribution within the focal sector.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>lowPrice <span class="ot">&lt;-</span> focalStocks <span class="sc">%&gt;%</span> </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Stock, StockName, Price, Low52Wk, Low52WkPerc) <span class="sc">%&gt;%</span> </span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Low52WkPerc <span class="sc">&lt;</span> Low52WkPercQ1) <span class="sc">%&gt;%</span> </span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Low52WkPerc)</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>lowPrice <span class="sc">%&gt;%</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="st">"html"</span>, </span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">caption =</span> <span class="st">"Inexpensive Stocks (Low52WkPerc &lt; Q1(Low52WkPerc))"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Inexpensive Stocks (Low52WkPerc &lt; Q1(Low52WkPerc))</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Stock</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">StockName</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Price</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Low52Wk</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Low52WkPerc</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">ADM</td>
<td style="text-align: left;">Archer-Daniels-Midland Company</td>
<td style="text-align: left;">$71.15</td>
<td style="text-align: left;">$69.31</td>
<td style="text-align: right;">2.65</td>
</tr>
<tr class="even">
<td style="text-align: left;">BF.B</td>
<td style="text-align: left;">Brown Forman Inc</td>
<td style="text-align: left;">$55.24</td>
<td style="text-align: left;">$52.59</td>
<td style="text-align: right;">5.04</td>
</tr>
<tr class="odd">
<td style="text-align: left;">KMB</td>
<td style="text-align: left;">Kimberly-Clark Corporation</td>
<td style="text-align: left;">$122.32</td>
<td style="text-align: left;">$116.32</td>
<td style="text-align: right;">5.16</td>
</tr>
<tr class="even">
<td style="text-align: left;">HSY</td>
<td style="text-align: left;">The Hershey Company</td>
<td style="text-align: left;">$188.40</td>
<td style="text-align: left;">$178.82</td>
<td style="text-align: right;">5.36</td>
</tr>
<tr class="odd">
<td style="text-align: left;">MO</td>
<td style="text-align: left;">Altria Group, Inc.</td>
<td style="text-align: left;">$41.46</td>
<td style="text-align: left;">$39.06</td>
<td style="text-align: right;">6.13</td>
</tr>
<tr class="even">
<td style="text-align: left;">HRL</td>
<td style="text-align: left;">Hormel Foods Corporation</td>
<td style="text-align: left;">$32.08</td>
<td style="text-align: left;">$30.12</td>
<td style="text-align: right;">6.51</td>
</tr>
<tr class="odd">
<td style="text-align: left;">GIS</td>
<td style="text-align: left;">General Mills, Inc.</td>
<td style="text-align: left;">$65.43</td>
<td style="text-align: left;">$60.33</td>
<td style="text-align: right;">8.45</td>
</tr>
<tr class="even">
<td style="text-align: left;">KR</td>
<td style="text-align: left;">Kroger Company (The)</td>
<td style="text-align: left;">$45.72</td>
<td style="text-align: left;">$42.09</td>
<td style="text-align: right;">8.61</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PG</td>
<td style="text-align: left;">Procter &amp; Gamble Company (The)</td>
<td style="text-align: left;">$148.14</td>
<td style="text-align: left;">$135.83</td>
<td style="text-align: right;">9.06</td>
</tr>
<tr class="even">
<td style="text-align: left;">PM</td>
<td style="text-align: left;">Philip Morris International Inc</td>
<td style="text-align: left;">$95.45</td>
<td style="text-align: left;">$87.23</td>
<td style="text-align: right;">9.42</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>The filter function is applied to keep only those stocks where <code>Low52WkPerc</code> (the percentage difference from the 52-week low) is less than <code>Low52WkPercQ1</code> (the first quartile of Low52WkPerc). This implies selecting stocks currently priced closer to their 52-week low than the majority of stocks in the dataset, indicating they are relatively ‘inexpensive’.</p>
<p>In essence, this code is used to identify and showcase stocks within the focalSector that are currently trading near their 52-week low, potentially indicating they are undervalued or at an attractive entry point for investors. This analysis assumes that stocks trading below their 52-week low quartile are considered ‘inexpensive.’</p>
<p>Next, we analyze the Profitability of stocks within the focal sector, as indicated by metrics such as Return on Equity (ROE).</p>
</section>
<section id="c-return-on-equity-roe" class="level3">
<h3 class="anchored" data-anchor-id="c-return-on-equity-roe">C) Return on Equity (ROE)</h3>
<p>We investigate the stocks in the focal sector that have relatively high Return on Equity (ROE). Return on Equity (ROE) is a crucial financial metric used to assess a company’s profitability, specifically measuring how effectively a company uses its equity to generate profits. Here’s why ROE is significant in measuring profitability:</p>
<ol type="1">
<li><p><strong>Efficiency Indicator</strong>: ROE indicates how well a company is using its shareholders’ equity to generate profit. A higher ROE suggests that the company is more efficient in using its equity base to produce earnings.</p></li>
<li><p><strong>Investor Attractiveness</strong>: Investors often look at ROE as a sign of a company’s ability to generate profit from equity investments. Companies with consistently high ROE are generally seen as well-managed and potentially more attractive to investors.</p></li>
<li><p><strong>Comparative Tool</strong>: ROE is used to compare the profitability of companies in the same industry. It levels the playing field by measuring profit relative to shareholder equity, making it a useful tool for comparing companies of different sizes.</p></li>
<li><p><strong>Growth Potential</strong>: A strong ROE can indicate a company’s potential for growth and its ability to fund expansion without needing additional debt or equity financing. This self-funding capability is especially valuable for investors looking for companies with sustainable growth prospects.</p></li>
<li><p><strong>Risk Assessment</strong>: While a high ROE can be desirable, it needs to be considered in the context of risk. A very high ROE might indicate excessive leverage or risk-taking. Thus, ROE should be analyzed alongside other financial metrics like debt-to-equity ratio to understand the risk profile of the company.</p></li>
<li><p><strong>Performance Benchmark</strong>: ROE serves as a performance benchmark. It helps in assessing whether a company is improving its efficiency in using equity to generate profits over time.</p></li>
</ol>
<p><strong>Summary Statistics of Return on Equity (ROE)</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>summaryStats <span class="ot">&lt;-</span> focalStocks <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">N =</span> <span class="fu">n</span>(),</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Mean =</span> <span class="fu">mean</span>(ROE, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">SD =</span> <span class="fu">sd</span>(ROE, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">Median =</span> <span class="fu">median</span>(ROE, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">Q1 =</span> <span class="fu">quantile</span>(ROE, <span class="fl">0.25</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">Q3 =</span> <span class="fu">quantile</span>(ROE, <span class="fl">0.75</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">Min =</span> <span class="fu">min</span>(ROE, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">Max =</span> <span class="fu">max</span>(ROE, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>ROE_Q3 <span class="ot">&lt;-</span> summaryStats<span class="sc">$</span>Q3</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>summaryStats <span class="sc">%&gt;%</span> </span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="st">"html"</span>, </span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">caption =</span> <span class="st">"Summary Statistics of Return on Equity (ROE)"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Summary Statistics of Return on Equity (ROE)</caption>
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">N</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Mean</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">SD</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Median</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Q1</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Q3</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Min</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Max</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">38</td>
<td style="text-align: right;">47.88</td>
<td style="text-align: right;">98.44</td>
<td style="text-align: right;">21.32</td>
<td style="text-align: right;">11.22</td>
<td style="text-align: right;">32.04</td>
<td style="text-align: right;">-3.43</td>
<td style="text-align: right;">517.78</td>
</tr>
</tbody>
</table>


</div>
</div>
<p><strong>Visualizing the distribution of Return on Equity (ROE)</strong></p>
<p>The following code creates visual representations of the Return on Equity (ROE) for stocks in the focal sector. It includes a BoxPlot that displays the median, first quartile (Q1), and third quartile (Q3), alongside a BarPlot which emphasizes the mean and standard deviation of the ROE. This dual approach offers a comprehensive view of the ROE distribution within the focal sector.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="18LiveCaseREIT_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid" width="768"></p>
</div>
</div>
<p><strong>Identifying Stocks that have high ROE (particularly ROE &gt; Q3(ROE))</strong></p>
<p>The following R code identifies and displays a subset of stocks from the focalStocks dataset that have relatively high ROE, filtering stocks whose ROE is more than the 75th percentile (Q3) of the distribution of ROE within the focal sector.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>highROE <span class="ot">&lt;-</span> focalStocks <span class="sc">%&gt;%</span> </span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Stock, StockName, Price, ROE, Low52Wk, Low52WkPerc) <span class="sc">%&gt;%</span> </span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(ROE <span class="sc">&gt;</span> ROE_Q3) <span class="sc">%&gt;%</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(ROE)) </span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>highROE <span class="sc">%&gt;%</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="st">"html"</span>, </span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">caption =</span> <span class="st">"Stocks with ROE &gt; Q3(ROE)"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Stocks with ROE &gt; Q3(ROE)</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Stock</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">StockName</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Price</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">ROE</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Low52Wk</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Low52WkPerc</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">CL</td>
<td style="text-align: left;">Colgate-Palmolive Company</td>
<td style="text-align: left;">$80.12</td>
<td style="text-align: right;">517.78140</td>
<td style="text-align: left;">$67.62</td>
<td style="text-align: right;">18.49</td>
</tr>
<tr class="even">
<td style="text-align: left;">KMB</td>
<td style="text-align: left;">Kimberly-Clark Corporation</td>
<td style="text-align: left;">$122.32</td>
<td style="text-align: right;">315.48791</td>
<td style="text-align: left;">$116.32</td>
<td style="text-align: right;">5.16</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SYY</td>
<td style="text-align: left;">Sysco Corporation</td>
<td style="text-align: left;">$75.36</td>
<td style="text-align: right;">111.56247</td>
<td style="text-align: left;">$62.24</td>
<td style="text-align: right;">21.09</td>
</tr>
<tr class="even">
<td style="text-align: left;">LW</td>
<td style="text-align: left;">Lamb Weston Holdings, Inc.</td>
<td style="text-align: left;">$106.44</td>
<td style="text-align: right;">100.29901</td>
<td style="text-align: left;">$81.25</td>
<td style="text-align: right;">31.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">CLX</td>
<td style="text-align: left;">Clorox Company (The)</td>
<td style="text-align: left;">$142.52</td>
<td style="text-align: right;">59.51557</td>
<td style="text-align: left;">$114.68</td>
<td style="text-align: right;">24.27</td>
</tr>
<tr class="even">
<td style="text-align: left;">HSY</td>
<td style="text-align: left;">The Hershey Company</td>
<td style="text-align: left;">$188.40</td>
<td style="text-align: right;">54.15166</td>
<td style="text-align: left;">$178.82</td>
<td style="text-align: right;">5.36</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PEP</td>
<td style="text-align: left;">PepsiCo, Inc.</td>
<td style="text-align: left;">$170.78</td>
<td style="text-align: right;">43.88217</td>
<td style="text-align: left;">$155.83</td>
<td style="text-align: right;">9.59</td>
</tr>
<tr class="even">
<td style="text-align: left;">KO</td>
<td style="text-align: left;">Coca-Cola Company (The)</td>
<td style="text-align: left;">$59.66</td>
<td style="text-align: right;">43.85101</td>
<td style="text-align: left;">$51.55</td>
<td style="text-align: right;">15.73</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PG</td>
<td style="text-align: left;">Procter &amp; Gamble Company (The)</td>
<td style="text-align: left;">$148.14</td>
<td style="text-align: right;">33.20330</td>
<td style="text-align: left;">$135.83</td>
<td style="text-align: right;">9.06</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="d-return-on-assets-roa" class="level3">
<h3 class="anchored" data-anchor-id="d-return-on-assets-roa">D) Return on Assets (ROA)</h3>
<p>Next, we investigate the stocks in the focal sector that have relatively high Return on Assets (ROA).</p>
<p>Return on Assets (ROA) is a key metric for assessing a company’s profitability, indicating how efficiently a company uses its assets to generate earnings. Key aspects of its significance include:</p>
<ol type="1">
<li><strong>Efficiency Indicator</strong>: Higher ROA values signify more effective asset utilization to produce profits.</li>
<li><strong>Comparative Analysis</strong>: ROA is useful for comparing profitability across companies with different sizes and industries, as it reflects income generated from all assets.</li>
<li><strong>Investment Decisions</strong>: Investors use ROA to evaluate management efficiency and make informed investment choices.</li>
<li><strong>Operational Insight</strong>: ROA offers a comprehensive view of a company’s operational efficiency by including all assets in its calculation.</li>
<li><strong>Financial Health</strong>: Consistent or improving ROA can signal strengthening financial health and effective operational strategies.</li>
<li><strong>Risk Assessment</strong>: ROA can also indicate potential operational risks, with low values suggesting inefficiencies.</li>
<li><strong>Growth Sustainability</strong>: A stable and robust ROA suggests that a company’s growth is underpinned by efficient asset use.</li>
</ol>
<p>ROA provides a holistic measure of how well a company leverages its total assets to generate profits, making it a crucial tool for financial analysis and decision-making.</p>
<p><strong>Summary Statistics of Return on Assets (ROA)</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>summaryStats <span class="ot">&lt;-</span> focalStocks <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">N =</span> <span class="fu">n</span>(),</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Mean =</span> <span class="fu">mean</span>(ROA, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">SD =</span> <span class="fu">sd</span>(ROA, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">Median =</span> <span class="fu">median</span>(ROA, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">Q1 =</span> <span class="fu">quantile</span>(ROA, <span class="fl">0.25</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">Q3 =</span> <span class="fu">quantile</span>(ROA, <span class="fl">0.75</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">Min =</span> <span class="fu">min</span>(ROA, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">Max =</span> <span class="fu">max</span>(ROA, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>ROA_Q3 <span class="ot">&lt;-</span> summaryStats<span class="sc">$</span>Q3</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>summaryStats <span class="sc">%&gt;%</span> </span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="st">"html"</span>, </span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">caption =</span> <span class="st">"Summary Statistics of Return on Equity (ROA)"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Summary Statistics of Return on Equity (ROA)</caption>
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">N</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Mean</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">SD</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Median</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Q1</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Q3</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Min</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Max</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">38</td>
<td style="text-align: right;">7.58</td>
<td style="text-align: right;">5.65</td>
<td style="text-align: right;">6.49</td>
<td style="text-align: right;">4.42</td>
<td style="text-align: right;">9.82</td>
<td style="text-align: right;">-1.77</td>
<td style="text-align: right;">24.83</td>
</tr>
</tbody>
</table>


</div>
</div>
<p><strong>Visualizing the distribution of Return on Assets (ROA)</strong></p>
<p>Similar to the ROE analysis, the following code creates visual representations of the Return on Assets (ROA) for stocks in the focal sector. It includes a BoxPlot that displays the median, first quartile (Q1), and third quartile (Q3), alongside a BarPlot which emphasizes the mean and standard deviation of the ROA. This dual approach offers a comprehensive view of the ROA distribution within the focal sector.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="18LiveCaseREIT_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid" width="768"></p>
</div>
</div>
<p><strong>Identifying Stocks that have high ROA (particularly ROA &gt; Q3(ROA))</strong></p>
<p>Similar to the ROE analysis above, the following R code identifies and displays a subset of stocks from the focalStocks dataset that have relatively high ROA, filtering stocks whose ROA is more than the 75th percentile (Q3) of the distribution of ROA within the focal sector.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>highROA <span class="ot">&lt;-</span> focalStocks <span class="sc">%&gt;%</span> </span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Stock, StockName, Price, ROA, Low52Wk, Low52WkPerc) <span class="sc">%&gt;%</span> </span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(ROA <span class="sc">&gt;</span> ROA_Q3) <span class="sc">%&gt;%</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(ROA)) </span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>highROA <span class="sc">%&gt;%</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="st">"html"</span>, </span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">caption =</span> <span class="st">"Stocks with ROA &gt; Q3(ROA)"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Stocks with ROA &gt; Q3(ROA)</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Stock</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">StockName</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Price</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">ROA</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Low52Wk</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Low52WkPerc</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">MO</td>
<td style="text-align: left;">Altria Group, Inc.</td>
<td style="text-align: left;">$41.46</td>
<td style="text-align: right;">24.83315</td>
<td style="text-align: left;">$39.06</td>
<td style="text-align: right;">6.13</td>
</tr>
<tr class="even">
<td style="text-align: left;">LW</td>
<td style="text-align: left;">Lamb Weston Holdings, Inc.</td>
<td style="text-align: left;">$106.44</td>
<td style="text-align: right;">19.34928</td>
<td style="text-align: left;">$81.25</td>
<td style="text-align: right;">31.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">MNST</td>
<td style="text-align: left;">Monster Beverage Corporation</td>
<td style="text-align: left;">$57.72</td>
<td style="text-align: right;">17.87396</td>
<td style="text-align: left;">$47.13</td>
<td style="text-align: right;">22.47</td>
</tr>
<tr class="even">
<td style="text-align: left;">HSY</td>
<td style="text-align: left;">The Hershey Company</td>
<td style="text-align: left;">$188.40</td>
<td style="text-align: right;">16.76908</td>
<td style="text-align: left;">$178.82</td>
<td style="text-align: right;">5.36</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PM</td>
<td style="text-align: left;">Philip Morris International Inc</td>
<td style="text-align: left;">$95.45</td>
<td style="text-align: right;">15.42009</td>
<td style="text-align: left;">$87.23</td>
<td style="text-align: right;">9.42</td>
</tr>
<tr class="even">
<td style="text-align: left;">PG</td>
<td style="text-align: left;">Procter &amp; Gamble Company (The)</td>
<td style="text-align: left;">$148.14</td>
<td style="text-align: right;">12.75894</td>
<td style="text-align: left;">$135.83</td>
<td style="text-align: right;">9.06</td>
</tr>
<tr class="odd">
<td style="text-align: left;">KO</td>
<td style="text-align: left;">Coca-Cola Company (The)</td>
<td style="text-align: left;">$59.66</td>
<td style="text-align: right;">11.33602</td>
<td style="text-align: left;">$51.55</td>
<td style="text-align: right;">15.73</td>
</tr>
<tr class="even">
<td style="text-align: left;">BF.B</td>
<td style="text-align: left;">Brown Forman Inc</td>
<td style="text-align: left;">$55.24</td>
<td style="text-align: right;">10.42293</td>
<td style="text-align: left;">$52.59</td>
<td style="text-align: right;">5.04</td>
</tr>
<tr class="odd">
<td style="text-align: left;">KMB</td>
<td style="text-align: left;">Kimberly-Clark Corporation</td>
<td style="text-align: left;">$122.32</td>
<td style="text-align: right;">10.07174</td>
<td style="text-align: left;">$116.32</td>
<td style="text-align: right;">5.16</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="e-roe-versus-roa-and-colored-by-price-rel.-to-52-week-low" class="level3">
<h3 class="anchored" data-anchor-id="e-roe-versus-roa-and-colored-by-price-rel.-to-52-week-low">E) ROE versus ROA and colored by Price rel. to 52-Week Low</h3>
<p>Next, we visualize the joint distribution of ROE, ROA and Price rel. to 52-Week Low.</p>
<p>The following code creates a scatter plot that visualizes the relationship between ROA and ROE in the <strong><code>focalStocks</code></strong> dataset. It uses color coding based on the <strong><code>Low52WkPerc</code></strong> metric to provide further insights into the stocks’ performance relative to their 52-week lows.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggscatter</span>(focalStocks, </span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">x =</span> <span class="st">"ROA"</span>, </span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">y =</span> <span class="st">"ROE"</span>, </span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">color =</span> <span class="st">"Low52WkPerc"</span>,</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">alpha =</span> <span class="fl">0.5</span>,</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">label =</span> <span class="st">"Stock"</span>, </span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">repel =</span> <span class="cn">TRUE</span>,</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>          <span class="at">title =</span> <span class="st">"ROE vs ROA, Low52WkPerc"</span>) <span class="sc">+</span> </span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gradient_color</span>(<span class="fu">c</span>(<span class="st">"darkgreen"</span>,  <span class="st">"red"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="18LiveCaseREIT_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid" width="768"></p>
</div>
</div>
<p>The objective of the provided code is to create a visual analysis of the relationship between Return on Assets (ROA) and Return on Equity (ROE) for stocks within a specific sector (focal sector). The scatter plot, enhanced with color-coding based on each stock’s percentage difference from its 52-week low (<code>Low52WkPerc</code>), aims to reveal how these key profitability metrics interact and are influenced by the stock’s relative position to its 52-week low. By incorporating stock labels and a color gradient, the plot not only maps out the financial performance (ROA and ROE) of these stocks but also integrates their recent price history, offering a multifaceted view of the sector’s financial health and market perception.</p>
</section>
<section id="f-investment-insights" class="level3">
<h3 class="anchored" data-anchor-id="f-investment-insights">F) Investment Insights</h3>
<p>Let us review our analysis and generate some insights.</p>
<ol type="1">
<li>The following stocks within the focal sector have prices relatively close to their 52-Week low, within Q1 of the distribution of <code>Low52WkPerc</code>:</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>lowPrice<span class="sc">$</span>Stock</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "ADM"  "BF.B" "KMB"  "HSY"  "MO"   "HRL"  "GIS"  "KR"   "PG"   "PM"  </code></pre>
</div>
</div>
<ol start="2" type="1">
<li>The following stocks within the focal sector are highly profitable, having Return on Equity more than the 75th percentile (Q3) of the distribution of the focal sector:</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>highROE<span class="sc">$</span>Stock</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "CL"  "KMB" "SYY" "LW"  "CLX" "HSY" "PEP" "KO"  "PG" </code></pre>
</div>
</div>
<ol start="3" type="1">
<li>The following stocks within the focal sector are highly profitable, having Return on Assets more than the 75th percentile (Q3) of the distribution of the focal sector:</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>highROA<span class="sc">$</span>Stock</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "MO"   "LW"   "MNST" "HSY"  "PM"   "PG"   "KO"   "BF.B" "KMB" </code></pre>
</div>
</div>
<ol start="4" type="1">
<li>Let us find the intersection between these three sets of stocks</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Find the intersection (common stocks) between the three sets</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>common_stocks <span class="ot">&lt;-</span> <span class="fu">intersect</span>(<span class="fu">intersect</span>(highROA<span class="sc">$</span>Stock, highROE<span class="sc">$</span>Stock), lowPrice<span class="sc">$</span>Stock)</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="co"># View the result</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>common_stocks</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "HSY" "PG"  "KMB"</code></pre>
</div>
</div>
<p>The following are the stock(s) that are most reasonably priced AND have relatively high Return on Equity and Return on Assets: HSY, PG, KMB</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter and select specific columns from focalStocks where Stock is in common_stocks</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>filtered_stocks <span class="ot">&lt;-</span> focalStocks <span class="sc">%&gt;%</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Stock <span class="sc">%in%</span> common_stocks) <span class="sc">%&gt;%</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Stock, StockName, ROE, ROA, Price)</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a><span class="co"># View the result</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>filtered_stocks <span class="sc">%&gt;%</span></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="st">"html"</span>, </span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">caption =</span> <span class="st">"Most Resonably Priced and Highly Profitable Stocks"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Most Resonably Priced and Highly Profitable Stocks</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Stock</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">StockName</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">ROE</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">ROA</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Price</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">HSY</td>
<td style="text-align: left;">The Hershey Company</td>
<td style="text-align: right;">54.15166</td>
<td style="text-align: right;">16.76908</td>
<td style="text-align: left;">$188.40</td>
</tr>
<tr class="even">
<td style="text-align: left;">KMB</td>
<td style="text-align: left;">Kimberly-Clark Corporation</td>
<td style="text-align: right;">315.48791</td>
<td style="text-align: right;">10.07174</td>
<td style="text-align: left;">$122.32</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PG</td>
<td style="text-align: left;">Procter &amp; Gamble Company (The)</td>
<td style="text-align: right;">33.20330</td>
<td style="text-align: right;">12.75894</td>
<td style="text-align: left;">$148.14</td>
</tr>
</tbody>
</table>


</div>
</div>
<p><strong>Conclusion: The best investment for USD 1 million, is in these stocks that are both reasonably priced and highly profitable.</strong></p>
</section>
</section>
<section id="summary-of-chapter-18-case-2-of-2-sp500-sector-analysis" class="level2">
<h2 class="anchored" data-anchor-id="summary-of-chapter-18-case-2-of-2-sp500-sector-analysis">Summary of Chapter 18 – Case (2 of 2): S&amp;P500 Sector Analysis</h2>
<p>Last updated on January 07, 2024, this chapter presents a Case Study of a detailed exploration of the Consumer Staples sector within the S&amp;P 500. This analysis utilizes a range of data manipulation and visualization tools in R, leveraging libraries such as <code>dplyr</code>, <code>tibble</code>, <code>ggplot2</code>, <code>gsheet</code>, and <code>kableExtra</code>. The study begins by meticulously loading and structuring data from Google Sheets into tibbles. This data is then merged, renamed, and enhanced with new metrics for a more insightful analysis.</p>
<p>The study delves into several key areas of analysis for the focal sector. It starts with an examination of market capitalization, sorting stocks by their market cap and generating summary statistics to understand the financial magnitude of these companies. The significance of the 52-week low price is then explored, identifying stocks that are trading near these levels and potentially undervalued. The analysis further extends to profitability measures, particularly Return on Equity (ROE) and Return on Assets (ROA). Through visualizations and data filtering, the chapter highlights stocks that demonstrate high ROE and ROA, signaling their profitability.</p>
<p>An intersection analysis is conducted to identify stocks that are not only close to their 52-week low but also exhibit high profitability. This comprehensive approach pinpoints the most promising investment opportunities in the sector. The study utilizes scatter plots to illustrate the relationships between ROE, ROA, and the percentage change from 52-week lows, providing deeper insights into stock performance and price attractiveness.</p>
<p>In conclusion, the anlaysis identifies the ‘best’ investment options by filtering out stocks that meet both criteria of price attractiveness and high profitability. This rigorous analysis, combining both quantitative measures and visual insights, offers a nuanced perspective on the focal sector, guiding investment decisions based on a blend of market performance and financial metrics.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<p><strong>S&amp;P 500</strong></p>
<p>[1] https://www.investopedia.com/terms/s/sp500.asp</p>
<p>[2] S&amp;P Global: S&amp;P Global. (n.d.). S&amp;P 500. Retrieved September 14, 2023, from https://www.spglobal.com/spdji/en/indices/equity/sp-500/</p>
<p>MarketWatch: MarketWatch. (n.d.). S&amp;P 500 Index. Retrieved September 14, 2023, from https://www.marketwatch.com/investing/index/spx</p>
<p>Bloomberg: Bloomberg. (n.d.). S&amp;P 500 Index (SPX:IND). Retrieved September 14, 2023, from https://www.bloomberg.com/quote/SPX:IND</p>
<p>[3] TradingView.com <a href="https://www.tradingview.com/screener/" class="uri">https://www.tradingview.com/screener/</a></p>
<p>[4] GICS: Global Industry Classification Standard: <a href="https://www.spglobal.com/spdji/en/landing/topic/gics/" class="uri">https://www.spglobal.com/spdji/en/landing/topic/gics/</a></p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="https://www.qatar.cmu.edu/directory/sameer-mathur/">Sameer Mathur</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://docs.google.com/document/d/15Li_DpXPSA6NXyXyCzM3vUu766RBq87W/edit?usp=sharing&amp;ouid=100224206438187222136&amp;rtpof=true&amp;sd=true">Aryeman Gupta Mathur</a>
  </li>  
</ul>
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>



</body></html>